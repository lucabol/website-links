#lang racket

(require (planet neil/html-parsing:2:0)
         net/url
         xml
         xml/path)

(define (htmlxp url)
  (html->xexp
   (get-pure-port (string->url url))))


(define (get-links url)
  (let* ([xp (htmlxp url)]
          [links (se-path*/list '(a @ href) xp)])

     (for/list ([l links]
                #:unless (or (string-prefix? l "http:")
                             (string-prefix? l "https:")
                             (string-prefix? l "#")
                             (equal? l "./"))) 
       l)))

(get-links "https://www.lucabol.com")

